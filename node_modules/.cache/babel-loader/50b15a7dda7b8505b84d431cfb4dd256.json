{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\inova\\\\Desktop\\\\Deploy\\\\FrontPiPokemon\\\\src\\\\components\\\\views\\\\Create\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { get_types, post_pokemon, get_pokemons } from '../../../redux/actions';\nimport FormCamp from '../../others/FormCamp';\nimport { upper_case } from '../../../controllers';\nimport styles from './create.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Create() {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [input, set_input] = useState({\n    name: \"\",\n    height: 0,\n    weight: 0,\n    hp: 0,\n    attack: 0,\n    defense: 0,\n    speed: 0,\n    image: \"\",\n    types: []\n  });\n  const [errors, set_errors] = useState({});\n  const types = useSelector(state => state.types);\n  const pokemons = useSelector(state => state.all_pokemons);\n  console.log(pokemons);\n  useEffect(() => {\n    if (types.length === 0) dispatch(get_types());\n  }, [types.length, dispatch]);\n  useEffect(() => {\n    if (pokemons.length === 0) dispatch(get_pokemons());\n  }, [pokemons.length, dispatch]); //me traigo solo el nombre de el include\n\n  const nombres = pokemons.map(x => x.name);\n  console.log(nombres);\n\n  function handle_button_home(e) {\n    e.preventDefault();\n    history.push('/home');\n  }\n\n  function handle_input_change(e) {\n    e.preventDefault();\n    set_input({ ...input,\n      [e.target.name]: e.target.value\n    });\n    set_errors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }));\n  }\n\n  function handle_select(e) {\n    e.preventDefault();\n\n    if (e.target.value !== \"\") {\n      let input_aux = input;\n      console.log(\"input_aux: \", input_aux);\n      input_aux.types.push(e.target.value);\n      set_input({ ...input,\n        types: input_aux.types\n      });\n      set_errors(validate(input_aux));\n    }\n  }\n\n  function handle_type_btn(e) {\n    e.preventDefault();\n    set_input({ ...input,\n      types: input.types.filter(type => type !== e.target.value)\n    });\n  }\n\n  function handle_submit(e) {\n    e.preventDefault(e);\n\n    if (Object.keys(errors).length !== 0) {\n      for (const error in errors) {\n        alert(errors[error]);\n      }\n    } else if (input.name.length === 0 || input.types.length === 0) {\n      alert(\"Te falta el nombre o el tipo compa.. \");\n    } else if (input.name.length > 0) {\n      let n_Imput = input.name.toLocaleLowerCase();\n      let resultado = nombres.includes(n_Imput);\n      console.log(resultado);\n\n      if (resultado) {\n        alert(\"Ese Nombre Ya esta En uso\");\n        set_input({\n          name: \"\",\n          height: 0,\n          weight: 0,\n          hp: 0,\n          attack: 0,\n          defense: 0,\n          speed: 0,\n          image: \"\",\n          types: []\n        });\n      } else {\n        dispatch(post_pokemon(input));\n        alert(\"!Pokemon Creado Exitosamente (︡¬ ͜ʖ¬︠) \");\n        set_input({\n          name: \"\",\n          height: 0,\n          weight: 0,\n          hp: 0,\n          attack: 0,\n          defense: 0,\n          speed: 0,\n          image: \"\",\n          types: []\n        });\n      }\n    }\n  }\n\n  function validate(input) {\n    const errors = {};\n\n    if (!input.name) {\n      errors.name = \"Nombre requerido\";\n    }\n\n    if (input.hp < 0) {\n      errors.hp = \"Hp No puede ser negativo\";\n    }\n\n    if (input.attack < 0) {\n      errors.attack = \"Attack No puede ser negativo\";\n    }\n\n    if (input.defense < 0) {\n      errors.defense = \"Defense No puede ser negativo\";\n    }\n\n    if (input.speed < 0) {\n      errors.speed = \"Speed No puede ser negativo\";\n    }\n\n    if (input.height < 0) {\n      errors.height = \"Height No puede ser negativo\";\n    }\n\n    if (input.weight < 0) {\n      errors.weight = \"Weight No puede ser negativo\";\n    }\n\n    if (input.types.length === 0) {\n      errors.types = \"Types  requerido \";\n    }\n\n    return errors;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.create_box,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: styles.btn,\n      onClick: handle_button_home,\n      children: \"Volver\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.form,\n      children: [/*#__PURE__*/_jsxDEV(FormCamp, {\n        name: \"Name\",\n        type: \"text\",\n        value: input.name,\n        handle_function: handle_input_change,\n        error_control: errors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: styles.label,\n          children: \"Types: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: styles.type_select,\n          onChange: handle_select,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this), types.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: type,\n            children: upper_case(type)\n          }, type, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 33\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [errors.types && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.error,\n          children: errors.types\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 29\n        }, this), input.types.map(type => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handle_type_btn,\n          className: styles.type_btn,\n          value: type,\n          children: upper_case(type)\n        }, type, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormCamp, {\n        name: \"Image\",\n        type: \"url\",\n        value: input.image,\n        handle_function: handle_input_change,\n        error_control: errors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormCamp, {\n        name: \"Hp\",\n        type: \"number\",\n        value: input.hp,\n        handle_function: handle_input_change,\n        error_control: errors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormCamp, {\n        name: \"Attack\",\n        type: \"number\",\n        value: input.attack,\n        handle_function: handle_input_change,\n        error_control: errors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormCamp, {\n        name: \"Defense\",\n        type: \"number\",\n        value: input.defense,\n        handle_function: handle_input_change,\n        error_control: errors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormCamp, {\n        name: \"Speed\",\n        type: \"number\",\n        value: input.speed,\n        handle_function: handle_input_change,\n        error_control: errors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormCamp, {\n        name: \"Height\",\n        type: \"number\",\n        value: input.height,\n        handle_function: handle_input_change,\n        error_control: errors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormCamp, {\n        name: \"Weight\",\n        type: \"number\",\n        value: input.weight,\n        handle_function: handle_input_change,\n        error_control: errors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.submit_btn,\n        type: \"submit\",\n        onClick: handle_submit,\n        children: \"Crear Pokemon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 9\n  }, this);\n} ///////////////////////////////////////////////////\n\n\n_s(Create, \"u6HeSJAX42h9P1MQ/eO55ECkp0A=\", false, function () {\n  return [useDispatch, useHistory, useSelector, useSelector];\n});\n\n_c = Create;\nexport default Create;\n\nvar _c;\n\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"sources":["C:/Users/inova/Desktop/Deploy/FrontPiPokemon/src/components/views/Create/index.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","useHistory","get_types","post_pokemon","get_pokemons","FormCamp","upper_case","styles","Create","dispatch","history","input","set_input","name","height","weight","hp","attack","defense","speed","image","types","errors","set_errors","state","pokemons","all_pokemons","console","log","length","nombres","map","x","handle_button_home","e","preventDefault","push","handle_input_change","target","value","validate","handle_select","input_aux","handle_type_btn","filter","type","handle_submit","Object","keys","error","alert","n_Imput","toLocaleLowerCase","resultado","includes","create_box","btn","form","label","type_select","type_btn","submit_btn"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {get_types, post_pokemon, get_pokemons} from '../../../redux/actions';\r\nimport FormCamp from '../../others/FormCamp';\r\nimport {upper_case} from '../../../controllers';\r\n\r\n\r\nimport styles from './create.module.css';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Create() {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const [input, set_input] = useState({\r\n        name: \"\",\r\n        height: 0,\r\n        weight: 0,\r\n        hp: 0,\r\n        attack: 0,\r\n        defense: 0,\r\n        speed: 0,\r\n        image: \"\",\r\n        types: []\r\n    });\r\n    const [errors, set_errors] = useState({});\r\n\r\n    const types = useSelector((state) => state.types);\r\n    const pokemons = useSelector((state) => state.all_pokemons);\r\n    console.log(pokemons)\r\n    useEffect(() => {\r\n        if(types.length === 0) dispatch(get_types());\r\n        \r\n    },[types.length,dispatch]);\r\n    useEffect(() => {\r\n        if(pokemons.length === 0) dispatch(get_pokemons());\r\n        \r\n    },[pokemons.length,dispatch]);\r\n    \r\n    //me traigo solo el nombre de el include\r\n    const nombres = pokemons.map( x => x.name)\r\n\r\n    \r\n    console.log(nombres)\r\n    \r\n\r\n    function handle_button_home(e){\r\n        e.preventDefault();\r\n        history.push('/home');\r\n    }\r\n\r\n    function handle_input_change(e){\r\n        e.preventDefault();\r\n        set_input({\r\n            ...input,\r\n            [e.target.name]: e.target.value\r\n        });\r\n        set_errors(validate({\r\n            ...input,\r\n            [e.target.name]: e.target.value\r\n        }))\r\n    }\r\n\r\n    function handle_select(e){\r\n        e.preventDefault();\r\n        if(e.target.value !== \"\"){\r\n            let input_aux = input;\r\n            console.log(\"input_aux: \", input_aux);\r\n            input_aux.types.push(e.target.value)\r\n            set_input({\r\n                ...input,\r\n                types: input_aux.types\r\n            });\r\n        set_errors(validate(input_aux));\r\n        }\r\n    }\r\n\r\n    function handle_type_btn(e){\r\n        e.preventDefault();\r\n        set_input({\r\n            ...input,\r\n            types: input.types.filter(type => type !== e.target.value)\r\n        });\r\n    }\r\n\r\n    function handle_submit(e){\r\n        e.preventDefault(e);\r\n        if(Object.keys(errors).length !== 0){\r\n            for (const error in errors) {\r\n                alert(errors[error]);\r\n            }\r\n        }else if(input.name.length === 0 || input.types.length === 0){\r\n            alert(\"Te falta el nombre o el tipo compa.. \")\r\n\r\n        }else if(input.name.length > 0 ){\r\n            let n_Imput = input.name.toLocaleLowerCase()\r\n            let resultado = nombres.includes(n_Imput)\r\n            console.log(resultado)\r\n            if(resultado){\r\n                alert(\"Ese Nombre Ya esta En uso\")\r\n                set_input({\r\n                    name: \"\",\r\n                    height: 0,\r\n                    weight: 0,\r\n                    hp: 0,\r\n                    attack: 0,\r\n                    defense: 0,\r\n                    speed: 0,\r\n                    image: \"\",\r\n                    types: []\r\n                })\r\n            }else{\r\n                dispatch(post_pokemon(input));\r\n                \r\n                alert(\"!Pokemon Creado Exitosamente (︡¬ ͜ʖ¬︠) \");\r\n                set_input({\r\n                    name: \"\",\r\n                    height: 0,\r\n                    weight: 0,\r\n                    hp: 0,\r\n                    attack: 0,\r\n                    defense: 0,\r\n                    speed: 0,\r\n                    image: \"\",\r\n                    types: []\r\n                })\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    function validate(input){\r\n        const errors = {};\r\n        \r\n      \r\n        if(!input.name){\r\n            errors.name = \"Nombre requerido\";\r\n        }\r\n        if(input.hp < 0){\r\n            errors.hp = \"Hp No puede ser negativo\";\r\n        }\r\n        if(input.attack < 0){\r\n            errors.attack = \"Attack No puede ser negativo\";\r\n        }\r\n        if(input.defense < 0){\r\n            errors.defense = \"Defense No puede ser negativo\";\r\n        }\r\n        if(input.speed < 0){\r\n            errors.speed = \"Speed No puede ser negativo\";\r\n        }\r\n        if(input.height < 0){\r\n            errors.height = \"Height No puede ser negativo\";\r\n        }\r\n        if(input.weight < 0){\r\n            errors.weight = \"Weight No puede ser negativo\";\r\n        }\r\n        if(input.types.length === 0){\r\n            errors.types = \"Types  requerido \";\r\n        }\r\n        return errors;\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={styles.create_box}>\r\n            <button className={styles.btn} onClick={handle_button_home} >Volver</button>\r\n            <form className={styles.form}>\r\n                <FormCamp name=\"Name\" type=\"text\" value={input.name}   handle_function={handle_input_change} error_control={errors}  />\r\n                <div>\r\n                    <label className={styles.label} >Types: </label>\r\n                    <select className={styles.type_select} onChange={handle_select} >\r\n                        <option></option>\r\n                        {\r\n                            types.map( type => (\r\n                                <option value={type} key={type} >{upper_case(type)}</option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    {\r\n                        errors.types && (\r\n                            <p className={styles.error} >{errors.types}</p>\r\n                        )\r\n                    }\r\n                    {\r\n                        input.types.map( type => (\r\n                            <button onClick={handle_type_btn} className={styles.type_btn} value={type} key={type} >{upper_case(type)}</button>\r\n                        ))\r\n                    }\r\n                </div>\r\n                <FormCamp name=\"Image\" type=\"url\" value={input.image}  handle_function={handle_input_change} error_control={errors} />\r\n                <FormCamp name=\"Hp\" type=\"number\" value={input.hp}  handle_function={handle_input_change} error_control={errors} />\r\n                <FormCamp name=\"Attack\" type=\"number\" value={input.attack}  handle_function={handle_input_change} error_control={errors} />\r\n                <FormCamp name=\"Defense\" type=\"number\" value={input.defense}  handle_function={handle_input_change} error_control={errors} />\r\n                <FormCamp name=\"Speed\" type=\"number\" value={input.speed}  handle_function={handle_input_change} error_control={errors} />\r\n                <FormCamp name=\"Height\" type=\"number\" value={input.height}  handle_function={handle_input_change} error_control={errors} />\r\n                <FormCamp name=\"Weight\" type=\"number\" value={input.weight}  handle_function={handle_input_change} error_control={errors} />\r\n                <button className={styles.submit_btn} type=\"submit\" onClick={handle_submit} >Crear Pokemon</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n///////////////////////////////////////////////////\r\n\r\n\r\nexport default Create;"]},"metadata":{},"sourceType":"module"}